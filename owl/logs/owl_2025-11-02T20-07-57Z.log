2025-11-02 21:07:58,877 - INFO - Starting OWL - checking imports...
2025-11-02 21:08:02,327 - INFO - All required modules imported successfully
2025-11-02 21:08:02 - INFO - [__main__] - Initializing OWL...
2025-11-02 21:08:02 - INFO - [__main__] - Starting OWL version 2.1.0
2025-11-02 21:08:02 - INFO - [__main__] - System Information: OS: Linux 6.12.25+rpt-rpi-2712, Machine: aarch64
2025-11-02 21:08:02 - INFO - [__main__] - Python Version: 3.11.2 (main, Apr 28 2025, 14:11:48) [GCC 12.2.0], Implementation: CPython, Compiler: GCC 12.2.0
2025-11-02 21:08:02 - INFO - [__main__] - Hardware: Raspberry Pi 5 Model B Rev 1.0
fatal¬†: ni ceci ni aucun de ses r√©pertoires parents n'est un d√©p√¥t git¬†: .git
2025-11-02 21:08:02 - WARNING - [SystemInfo] - Git information could not be retrieved: Command '['git', 'rev-parse', '--short', 'HEAD']' returned non-zero exit status 128.
2025-11-02 21:08:02 - INFO - [__main__] - Git information not available.
2025-11-02 21:08:02 - WARNING - [utils.config_manager] - Unknown keys in section [Relays]: 9, 6, 8, 5, 7, 4
2025-11-02 21:08:02 - INFO - [utils.config_manager] - Successfully loaded and validated config: /home/owl/owl/config/DAY_SENSITIVITY_2.ini
2025-11-02 21:08:02 - INFO - [__main__] - Raspberry Pi version: rpi-5
2025-11-02 21:08:02 - ERROR - [utils.output_manager] - Failed to initialize RelayCo2025-11-02 21:08:03 - INFO - [utils.output_manager] - [INFO] Nozzle setup complete. Initiating camera...
2025-11-02 21:08:03 - WARNING - [__main__] - High resolution, expect low framerate. Resolution set to 1024x768.
2025-11-02 21:08:03 - INFO - [utils.video_manager] - Camera type: Picamera2Stream
2025-11-02 21:08:03 - INFO - [utils.video_manager] - Setting camera format
2025-11-02 21:08:03 - INFO - [utils.video_manager] - Setting camera controls
[0:00:10.336106086] [797] [1;32m INFO [1;37mCamera [1;34mcamera_manager.cpp:326 [0mlibcamera v0.5.0+59-d83ff0a4
Traceback (most recent call last):
  File "/home/owl/owl/./owl.py", line 311, in __init__
    self.cam = VideoStream(resolution=self.resolution,
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/owl/owl/utils/video_manager.py", line 298, in __init__
    self.stream = PiCamera2Stream(src=src, resolution=resolution, exp_compensation=exp_compensation, **kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/owl/owl/utils/video_manager.py", line 127, in __init__
    self.camera = Picamera2(src)
                  ^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/picamera2/picamera2.py", line 281, in __init__
    camera_num = self.global_camera_info()[camera_num]['Num']
                 ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
IndexError: list index out of range

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/owl/owl/./owl.py", line 686, in <module>
    owl = Owl(
          ^^^^
  File "/home/owl/owl/./owl.py", line 320, in __init__
    raise errors.CameraNotFoundError(error_type="Camera Not Found", original_error=str(e))
utils.error_manager.CameraNotFoundError: 
[1m[91mCamera Connection Error[0m
[93mError ID: OWL_20251102_210803[0m

[92mProblem:[0m
Failed to initialize camera: [1m[97mCamera Not Found[0m
Error details: list index out of range

[92mSolutions:[0m
1. Check if the camera ribbon cable is properly connected
2. Inspect the ribbon cable for damage
3. Verify camera module is properly seated
4. Check if camera is enabled in raspi-config
5. Try reconnecting the camera with the system powered off

[92mHow to get more information:[0m
‚Ä¢ [1m[97mvcgencmd get_camera[0m - Check if camera is detected
‚Ä¢ [1m[97mlibcamera-hello[0m - Test camera feed
‚Ä¢ [1m[97mdmesg | grep -i camera[0m - Check system logs

^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/owl/owl/utils/output_manager.py", line 469, in __init__
    self.relay = RelayControl(self.relay_dict)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/owl/owl/utils/output_manager.py", line 411, in __init__
    raise OWLAlreadyRunningError("OWL instance may already be running.") from e
utils.error_manager.OWLAlreadyRunningError: 
[1m[91mOWL Process Already Running[0m
[93mError ID: OWL_20251102_210802[0m

[92mStatus:[0m
Another instance of OWL appears to be running. The GPIO pins are in use.

[92mRunning OWL Processes:[0m
    [1m[97mPID: 797[0m - Command: python ./owl.py
    [1m[97mPID: 798[0m - Command: python ./owl.py

[92mCommands to Stop:[0m
    [1m[97mkill <PID>[0m  - Graceful termination
    [1m[97mkill -9 <PID>[0m - Force termination (use with caution)

[92mImportant Notes:[0m
- Double-check the PID before stopping it!
- If no processes are listed but error persists, check GPIO outputs
- Ensure all GPIO resources are properly released
- Try rebooting if the issue persists

